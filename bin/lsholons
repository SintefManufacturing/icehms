#!/usr/bin/env python

import icehms

if __name__ == "__main__":
    dead = []
    mgr = icehms.IceManager()
    print("Alive holons are :")
    try:
        mgr.init()
        holons = mgr.findHolons()
        for holon in holons:
            try:
                holon.ice_ping()
            except Exception :
                dead.append(holon)
            else:
                print(holon)
    finally:
        mgr.shutdown()

print("\nThe following holons are registered but unreachable:")
for obj in dead:
    print(obj)











