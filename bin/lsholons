#!/usr/bin/env python

import icehms

if __name__ == "__main__":
    dead = []
    alive = []
    mgr = icehms.IceManager()
    try:
        mgr.init()
        print("Alive holons are :")
        holons = mgr.findHolons()
        for holon in holons:
            try:
                holon.ice_ping()
            except Exception :
                dead.append(holon)
            else:
                print(holon)
    finally:
        mgr.shutdown()

if len(dead) > 0:
    print("\nThe following holons are registered but unreachable:")
    for obj in dead:
        print(obj)











